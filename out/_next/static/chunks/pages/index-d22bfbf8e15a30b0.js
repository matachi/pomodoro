(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(n,t,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return e(2520)}])},2520:function(n,t,e){"use strict";e.r(t),e.d(t,{default:function(){return N}});var r=e(5893),i=e(9008),s=e.n(i),o=e(1799),a=e(9396),c=e(797),u=e(7294),l=e(3957),d=e(8662),h=e(9118),m=e(4850),f=e(784);function v(n){var t=n.intervals;return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("table",{style:{tableLayout:"fixed"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Type"}),(0,r.jsx)("th",{children:"Start"}),(0,r.jsx)("th",{children:"End"}),(0,r.jsx)("th",{children:"Length"})]})}),(0,r.jsx)("tbody",{children:t.map((function(n,t){return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:n.isPomodoro?"Pomodoro":"Break"}),(0,r.jsx)("td",{children:(0,m.Z)(n.start,"HH:mm:ss")}),(0,r.jsx)("td",{children:(0,m.Z)(n.end,"HH:mm:ss")}),(0,r.jsx)("td",{children:(0,f.Z)(n.elapsedTime,{format:["minutes","seconds"]})})]},t)})).reverse()})]})})}function x(n){var t=n.minutes,e=n.seconds;return(0,r.jsxs)("h1",{className:"text-center",children:[String(t).padStart(2,"0"),":",String(e).padStart(2,"0")]})}function j(n){if(0==n.length)return[0,0];var t,e,r=(0,h.s)(n).remainingTime;return[null!==(t=r.minutes)&&void 0!==t?t:0,null!==(e=r.seconds)&&void 0!==e?e:0]}function g(n,t,e){e((function(e){var r=(0,h.s)(e.intervals);null===r||void 0===r||r.pause();var i={minutes:n},s=d.Z.StartNew(i,t);return(0,a.Z)((0,o.Z)({},e),{intervals:(0,c.Z)(e.intervals).concat([s])})}))}function p(){var n=(0,u.useContext)(l.Z),t=n.appSettings,e=n.setAppSettings,i=(0,u.useState)(j(t.intervals)),s=i[0],c=i[1];(0,u.useEffect)((function(){var n=setTimeout((function(){c(j(t.intervals))}),100);return function(){return clearTimeout(n)}})),(0,u.useEffect)((function(){var n=(0,h.s)(t.intervals);if(null!=n&&!n.hasShownNotification&&0==s[0]&&0==s[1]){try{new Audio("alarm.wav").play(),Notification.requestPermission().then((function(n){"granted"===n&&new Notification((0,h.s)(t.intervals).isPomodoro?"Time for a break":"Time to work")}))}catch(r){}e((function(t){return n.hasShownNotification=!0,(0,o.Z)({},t)}))}}),[s,t.intervals,e]);var d=(0,h.s)(t.intervals),m=null!=d,f=null===d||void 0===d?void 0:d.isRunning;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x,{minutes:s[0],seconds:s[1]}),(0,r.jsx)("hr",{}),(0,r.jsxs)("div",{className:"button-group large align-center",children:[(0,r.jsx)("button",{onClick:function(){return g(t.pomodoroLength,!0,e)},className:"button success",children:"New pomodoro"}),(0,r.jsx)("button",{onClick:function(){return g(t.breakLength,!1,e)},className:"button",children:"Break"}),(0,r.jsx)("button",{onClick:function(){return function(n){n((function(n){var t=(0,h.s)(n.intervals);return(null===t||void 0===t?void 0:t.isRunning)?null===t||void 0===t||t.pause():null!=t&&(null===t||void 0===t||t.run()),(0,o.Z)({},n)}))}(e)},className:"button warning",disabled:!m,children:f?"Pause":"Resume"}),(0,r.jsx)("button",{onClick:function(){return function(n){n((function(n){return(0,a.Z)((0,o.Z)({},n),{intervals:[]})}))}(e)},className:"button alert",children:"Clear"})]}),(0,r.jsx)("hr",{}),(0,r.jsx)(v,{intervals:t.intervals})]})}var N=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(s(),{children:[(0,r.jsx)("title",{children:"Pomodoro timer"}),(0,r.jsx)("meta",{name:"description",content:"Pomodoro timer"}),(0,r.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,r.jsx)("div",{className:"grid-container",children:(0,r.jsx)("div",{className:"grid-x grid-margin-x",children:(0,r.jsx)("div",{className:"cell medium-12",children:(0,r.jsx)(p,{})})})})]})}}},function(n){n.O(0,[897,774,888,179],(function(){return t=8312,n(n.s=t);var t}));var t=n.O();_N_E=t}]);